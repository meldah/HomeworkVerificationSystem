<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:include="~{fragments/head}"></th:block>
</head>
<body>
<header>
    <th:block th:include="~{fragments/navbar}"></th:block>
</header>
	<div class = "full-height">
	<hr class="sep">
    <h1 class="text-center text-info">All Students</h1>
    <div class="table-wrapper">
	   	 <div class="button-holder-center">
	  			<a th:href="@{/students/newStudents}">
	   			<button type="button" class ="task-add-button" name="NEW" value="NEW">New students</button>
			</a>
	    </div>
	    <hr class="sep">
	    <th:block th:if="${#sets.size(students)} > 0">
	    <table>
	        <thead>
	        <tr>
	            <th><b>#</b></th>
	            <th><b>First Name</b></th>
	            <th><b>Last Name</b></th>
	            <th><b>Email</b></th>
	            <th><b>Faculty number</b></th>
	            <th><b>Semester</b></th>
	            <th><b>Actions</b></th>
	        </tr>
	        </thead>
	        <tbody>
	        <th:block th:each="student, iter : ${students}">
	            <tr>
	                <td class="font-weight-bold" th:text="${iter.index + 1}"></td>
	                <td th:text="${student.firstName}"></td>
	                <td th:text="${student.lastName}"></td>
	                <td th:text="${student.email}"></td>
	                <td th:text="${student.facultyNumber}"></td>
	                <td th:text="${student.semester}"></td>
	                <td>
		                <div class="row d-flex justify-content-center">
							<form th:action="@{/students/delete/{id}(id=${student.id})}" method="post">
								<button class="btn btn-danger btn-width">DELETE</button>
							</form>
						</div>
					</td>
				</tr>
	        </th:block>
	        </tbody>
	    </table>
	    </th:block>
	    <th:block th:unless="${#sets.size(students)} > 0">
	    	<div class="alert alert-info" role="alert">No students have been registered!</div>
	    </th:block>
   	    <hr class="sep">
    </div>
    </div>
    <hr class="sep">
</body>
<footer>
    <th:block th:include="~{fragments/footer}"></th:block>
</footer>
</html>